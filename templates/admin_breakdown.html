<!DOCTYPE html>
<html>
<head>
    <title>Sales Breakdown</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial; background:#f3f4f6; padding:20px; }
        .card {
            background:white;
            padding:20px;
            border-radius:8px;
            margin-bottom:15px;
        }
        button {
            padding:10px 15px;
            border:none;
            border-radius:6px;
            background:#1e3a8a;
            color:white;
            font-weight:bold;
            cursor:pointer;
        }
    </style>
</head>
<body>

<h2>ðŸ“Š Sales Breakdown (Today)</h2>

<button onclick="loadBreakdown()">Refresh</button>

<div class="card">
    <h3>Summary</h3>
    <p>Total Bills: <span id="totalBills">0</span></p>
    <p>Total Sales: â‚¹<span id="totalSales">0</span></p>
</div>

<div class="card">
    <h3>Payment Mode Breakdown</h3>
    <div id="paymentData"></div>
</div>

<script>
async function loadBreakdown() {

    const res = await fetch("/admin/sales-breakdown");
    const data = await res.json();

    document.getElementById("totalBills").innerText = data.total_bills;
    document.getElementById("totalSales").innerText = data.total_sales;

    const container = document.getElementById("paymentData");
    container.innerHTML = "";

    for (const mode in data.payment_breakdown) {
        container.innerHTML += `<p>${mode}: â‚¹${data.payment_breakdown[mode]}</p>`;
    }
}

loadBreakdown();
</script>

</body>
</html>