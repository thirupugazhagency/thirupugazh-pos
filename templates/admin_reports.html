<!DOCTYPE html>
<html>
<head>
<title>Admin Reports â€“ Thirupugazh POS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    font-family: Arial, Helvetica, sans-serif;
    background:#f4f6f8;
    margin:0;
}
header{
    background:#263238;
    color:white;
    padding:15px;
    font-size:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.container{
    max-width:600px;
    margin:30px auto;
    background:white;
    padding:20px;
    border-radius:8px;
    box-shadow:0 5px 15px rgba(0,0,0,0.2);
}
h3{
    margin-top:0;
}
button{
    width:100%;
    padding:15px;
    font-size:16px;
    margin-top:12px;
    border:none;
    cursor:pointer;
    border-radius:4px;
}
.excel{
    background:#2e7d32;
    color:white;
}
.pdf{
    background:#c62828;
    color:white;
}
.logout{
    background:#455a64;
    color:white;
    padding:8px 14px;
}
input{
    width:100%;
    padding:10px;
    margin-top:10px;
    font-size:16px;
}
hr{
    margin:25px 0;
}
</style>
</head>

<body>

<header>
  <span>ðŸ“Š Admin Reports â€“ Thirupugazh POS</span>
  <button class="logout" onclick="logout()">Logout</button>
</header>

<div class="container">

<h3>ðŸ“… Daily / Date-wise Sales</h3>
<input type="date" id="reportDate">

<button class="excel" onclick="downloadExcel()">
â¬‡ Download Date-wise Excel
</button>

<button class="pdf" onclick="downloadPDF()">
â¬‡ Download Date-wise PDF
</button>

<hr>

<h3>ðŸ“Š All-Time Sales</h3>

<button class="excel" onclick="window.open('/admin/report/excel','_blank')">
â¬‡ Download All Excel
</button>

<button class="pdf" onclick="window.open('/admin/report/pdf','_blank')">
â¬‡ Download All PDF
</button>

<hr>

<h3>ðŸ‘¤ Agent-wise Sales</h3>

<button class="excel" onclick="window.open('/admin/report/agent/excel','_blank')">
â¬‡ Agent-wise Excel Report
</button>

<button class="pdf" onclick="window.open('/admin/report/agent/pdf','_blank')">
â¬‡ Agent-wise PDF Report
</button>

</div>

<script>
// ADMIN CHECK
const ROLE = localStorage.getItem("role");
if (ROLE !== "admin") {
    alert("Admin access only");
    window.location.href = "/ui/login";
}

// DATE-WISE EXCEL
function downloadExcel(){
    const d = document.getElementById("reportDate").value;
    const url = d
      ? `/admin/report/excel?date=${d}`
      : `/admin/report/excel`;
    window.open(url, "_blank");
}

// DATE-WISE PDF
function downloadPDF(){
    const d = document.getElementById("reportDate").value;
    const url = d
      ? `/admin/report/pdf?date=${d}`
      : `/admin/report/pdf`;
    window.open(url, "_blank");
}

// LOGOUT
function logout(){
    localStorage.clear();
    window.location.href = "/ui/login";
}
</script>

</body>
</html>
